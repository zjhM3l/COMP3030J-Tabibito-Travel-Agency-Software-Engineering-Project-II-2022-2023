import{N as t}from"./navigationBar-a9774400.js";import{F as o}from"./footerView-2c27e103.js";import{_ as s,u as a,g as i,a as e,o as n,c as r,b as l,d,w as c,t as u,h as p,k as m,v as g,F as f,p as _,j as b}from"./index-6bfe40dc.js";const h={setup(){const t=a();return i().appContext.config.globalProperties.axios,{toast:t}},components:{FooterView:o,navigationBar:t},name:"loginView",data:()=>({inputEmail:"",inputPassword:"",from:""}),beforeRouteEnter(t,o,s){s((t=>{t.from=o}))},methods:{checkLogin(){event.preventDefault();let t=this;if(""===this.inputEmail&&this.toast.error("Email can't be blank"),""===this.inputPassword&&this.toast.error("Password can't be blank"),""===this.inputEmail||""===this.inputPassword);else{let o=this.inputEmail,s=this.inputPassword;this.axios.post("/user/login_form",{email:o,password:s}).then((function(o){let s=o.data.code,a=o.data.message;200===s?"Customer"===o.data.job?"/login"===t.from.path||"/register"===t.from.path||"/forbidden"===t.from.path||"NotFound"===t.from.name?t.$router.push("/"):t.$router.push(t.from.path):t.$router.push("/management"):400===s&&("email"===a?t.toast.error("Email is not correct"):"password"===a&&t.toast.error("Password is not correct"))})).catch((function(t){}))}}}},v=t=>(_("data-v-fa8a8d26"),t=t(),b(),t),w={class:"bg"},$={class:"container"},k={class:"border"},E={class:"font_login"},P={class:"font_acc"},x={autocomplete:"off"},j={class:"input_border"},V={class:"input_form"},F={class:"input_label"},y={class:"input_border"},C={class:"input_form"},L={class:"input_label"},q={class:"input_border"},B={class:"input_border"},N=v((()=>d("div",{class:"icon_add"},null,-1))),U={class:"input_border"},A={class:"text_center"},D={class:"other_login_btn"},I=v((()=>d("i",{class:"google_icon"},null,-1))),R={class:"input_border"},z={class:"text_note"};const G=s(h,[["render",function(t,o,s,a,i,_){const b=e("navigation-bar"),h=e("router-link"),v=e("n-card"),G=e("footer-view");return n(),r(f,null,[l(b),d("div",w,[d("div",$,[l(v,{class:"card"},{default:c((()=>[d("div",k,[d("h1",E,u(t.$t("login.welcome")),1),d("p",P,[p(u(t.$t("login.noAccount"))+" ",1),l(h,{to:"/register",class:"font_blue"},{default:c((()=>[p(u(t.$t("login.signup")),1)])),_:1})]),d("form",x,[d("div",j,[d("div",V,[m(d("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>i.inputEmail=t),required:""},null,512),[[g,i.inputEmail]]),d("label",F,u(t.$t("login.email")),1)])]),d("div",y,[d("div",C,[m(d("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>i.inputPassword=t),required:""},null,512),[[g,i.inputPassword]]),d("label",L,u(t.$t("login.password")),1)])]),d("div",q,[l(h,{to:"/forget",class:"forget_link"},{default:c((()=>[p(u(t.$t("login.forget")),1)])),_:1})]),d("div",B,[d("button",{type:"submit",class:"add_step_btn",onClick:o[2]||(o[2]=(...t)=>_.checkLogin&&_.checkLogin(...t))},[p(u(t.$t("login.signin"))+" ",1),N])])]),d("div",U,[d("div",A,u(t.$t("login.signin2")),1),d("button",D,[I,p(" "+u(t.$t("login.google")),1)])]),d("div",R,[d("div",z,u(t.$t("login.agree")),1)])])])),_:1})])]),l(G)],64)}],["__scopeId","data-v-fa8a8d26"]]);export{G as default};
