import{N as t}from"./navigationBar-ac3b4d44.js";import{F as o}from"./footerView-c8a29d83.js";import{_ as s,u as a,g as e,a as i,o as n,c as r,b as l,d as c,w as d,t as u,h as p,k as m,v as g,F as f,p as _,j as b}from"./index-5baf022e.js";const h={setup(){const t=a();return e().appContext.config.globalProperties.axios,{toast:t}},components:{FooterView:o,navigationBar:t},name:"loginView",data:()=>({inputEmail:"",inputPassword:"",from:""}),beforeRouteEnter(t,o,s){s((t=>{t.from=o}))},methods:{checkLogin(){event.preventDefault();let t=this;if(""===this.inputEmail&&this.toast.error("Email can't be blank"),""===this.inputPassword&&this.toast.error("Password can't be blank"),""===this.inputEmail||""===this.inputPassword);else{let o=this.inputEmail,s=this.inputPassword;this.axios.post("/user/login_form",{email:o,password:s}).then((function(o){let s=o.data.code,a=o.data.message;200===s?"Customer"===o.data.job?"/login"===t.from.path||"/register"===t.from.path||"/forbidden"===t.from.path||"NotFound"===t.from.name?t.$router.push("/"):t.$router.push(t.from.path):t.$router.push("/management"):400===s&&("email"===a?t.toast.error("Email is not correct"):"password"===a&&t.toast.error("Password is not correct"))})).catch((function(t){}))}}}},v=t=>(_("data-v-7ece0949"),t=t(),b(),t),w={class:"bg"},$={class:"container"},k={class:"border"},E={class:"font_login"},P={class:"font_acc"},x={autocomplete:"off"},j={class:"input_border"},V={class:"input_form"},F={class:"input_label"},y={class:"input_border"},C={class:"input_form"},L={class:"input_label"},q={class:"input_border"},B={class:"input_border"},N=v((()=>c("div",{class:"icon_add"},null,-1))),U={class:"input_border"},A={class:"text_center"},D={class:"other_login_btn"},I=v((()=>c("i",{class:"google_icon"},null,-1))),R={class:"input_border"},z={class:"text_note"};const G=s(h,[["render",function(t,o,s,a,e,_){const b=i("navigation-bar"),h=i("router-link"),v=i("n-card"),G=i("footer-view");return n(),r(f,null,[l(b),c("div",w,[c("div",$,[l(v,{class:"card"},{default:d((()=>[c("div",k,[c("h1",E,u(t.$t("login.welcome")),1),c("p",P,[p(u(t.$t("login.noAccount"))+" ",1),l(h,{to:"/register",class:"font_blue"},{default:d((()=>[p(u(t.$t("login.signup")),1)])),_:1})]),c("form",x,[c("div",j,[c("div",V,[m(c("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>e.inputEmail=t),required:""},null,512),[[g,e.inputEmail]]),c("label",F,u(t.$t("login.email")),1)])]),c("div",y,[c("div",C,[m(c("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>e.inputPassword=t),required:""},null,512),[[g,e.inputPassword]]),c("label",L,u(t.$t("login.password")),1)])]),c("div",q,[l(h,{to:"/forget",class:"forget_link"},{default:d((()=>[p(u(t.$t("login.forget")),1)])),_:1})]),c("div",B,[c("button",{type:"submit",class:"add_step_btn",onClick:o[2]||(o[2]=(...t)=>_.checkLogin&&_.checkLogin(...t))},[p(u(t.$t("login.signin"))+" ",1),N])])]),c("div",U,[c("div",A,u(t.$t("login.signin2")),1),c("button",D,[I,p(" "+u(t.$t("login.google")),1)])]),c("div",R,[c("div",z,u(t.$t("login.agree")),1)])])])),_:1})])]),l(G)],64)}],["__scopeId","data-v-7ece0949"]]);export{G as default};
