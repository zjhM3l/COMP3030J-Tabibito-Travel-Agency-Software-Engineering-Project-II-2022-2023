import{N as t}from"./navigationBar-4addfdc8.js";import{F as s}from"./footerView-a37a4bfd.js";import{_ as o,u as a,g as i,a as e,o as n,c as r,b as l,d,w as u,t as c,h as p,k as m,v as g,F as f,p as _,j as b}from"./index-d8eefb82.js";const h={setup(){const t=a();return i().appContext.config.globalProperties.axios.defaults.withCredentials=!0,{toast:t}},components:{FooterView:s,navigationBar:t},name:"loginView",data:()=>({inputEmail:"",inputPassword:"",from:""}),beforeRouteEnter(t,s,o){o((t=>{t.from=s}))},methods:{checkLogin(){event.preventDefault();let t=this;if(""===this.inputEmail&&this.toast.error("Email can't be blank"),""===this.inputPassword&&this.toast.error("Password can't be blank"),""===this.inputEmail||""===this.inputPassword);else{let s=this.inputEmail,o=this.inputPassword;this.axios.post("/user/login_form",{email:s,password:o}).then((function(s){let o=s.data.code,a=s.data.message;200===o?"Customer"===s.data.job?"/login"===t.from.path||"/register"===t.from.path||"/forbidden"===t.from.path||"NotFound"===t.from.name?t.$router.push("/"):t.$router.push(t.from.path):t.$router.push("/management"):400===o&&("email"===a?t.toast.error("Email is not correct"):"password"===a&&t.toast.error("Password is not correct"))})).catch((function(t){}))}}}},v=t=>(_("data-v-8603d12d"),t=t(),b(),t),w={class:"bg"},$={class:"container"},k={class:"border"},E={class:"font_login"},P={class:"font_acc"},x={autocomplete:"off"},j={class:"input_border"},V={class:"input_form"},C={class:"input_label"},F={class:"input_border"},y={class:"input_form"},L={class:"input_label"},q={class:"input_border"},B={class:"input_border"},N=v((()=>d("div",{class:"icon_add"},null,-1))),U={class:"input_border"},A={class:"text_center"},D={class:"other_login_btn"},I=v((()=>d("i",{class:"google_icon"},null,-1))),R={class:"input_border"},z={class:"text_note"};const G=o(h,[["render",function(t,s,o,a,i,_){const b=e("navigation-bar"),h=e("router-link"),v=e("n-card"),G=e("footer-view");return n(),r(f,null,[l(b),d("div",w,[d("div",$,[l(v,{class:"card"},{default:u((()=>[d("div",k,[d("h1",E,c(t.$t("login.welcome")),1),d("p",P,[p(c(t.$t("login.noAccount"))+" ",1),l(h,{to:"/register",class:"font_blue"},{default:u((()=>[p(c(t.$t("login.signup")),1)])),_:1})]),d("form",x,[d("div",j,[d("div",V,[m(d("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>i.inputEmail=t),required:""},null,512),[[g,i.inputEmail]]),d("label",C,c(t.$t("login.email")),1)])]),d("div",F,[d("div",y,[m(d("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=t=>i.inputPassword=t),required:""},null,512),[[g,i.inputPassword]]),d("label",L,c(t.$t("login.password")),1)])]),d("div",q,[l(h,{to:"/forget",class:"forget_link"},{default:u((()=>[p(c(t.$t("login.forget")),1)])),_:1})]),d("div",B,[d("button",{type:"submit",class:"add_step_btn",onClick:s[2]||(s[2]=(...t)=>_.checkLogin&&_.checkLogin(...t))},[p(c(t.$t("login.signin"))+" ",1),N])])]),d("div",U,[d("div",A,c(t.$t("login.signin2")),1),d("button",D,[I,p(" "+c(t.$t("login.google")),1)])]),d("div",R,[d("div",z,c(t.$t("login.agree")),1)])])])),_:1})])]),l(G)],64)}],["__scopeId","data-v-8603d12d"]]);export{G as default};
