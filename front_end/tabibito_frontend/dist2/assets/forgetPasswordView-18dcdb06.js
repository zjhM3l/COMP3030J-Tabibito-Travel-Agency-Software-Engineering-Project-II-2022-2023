import{N as t}from"./navigationBar-4addfdc8.js";import{F as a}from"./footerView-a37a4bfd.js";import{_ as e,g as s,u as i,a as o,o as n,c as r,b as l,d as c,w as d,t as u,h as f,k as p,v as m,l as g,m as h,F as v,p as _,j as b}from"./index-d8eefb82.js";const w={setup(){s().appContext.config.globalProperties.axios.defaults.withCredentials=!0;return{toast:i()}},components:{FooterView:a,navigationBar:t},name:"forgetPasswordView",data:()=>({countingDown:!1,remainingTime:60,countdownInterval:null,inputE:"",code:""}),methods:{startCountdown(){let t=this;this.countingDown=!0,this.remainingTime=60,this.countdownInterval=setInterval((()=>{this.remainingTime>0?this.remainingTime--:(clearInterval(this.countdownInterval),this.countingDown=!1)}),1e3);let a=this.inputE;/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)?(this.toast.success("Captcha sends successfully"),this.axios.post("/user/captcha",{email:a}).then((function(a){let e=a.data.code,s=a.data.message;200===e?t.toast.success("Captcha sends successfully"):400===e&&"email"===s&&t.toast.error("Email is not registered")})).catch((function(t){}))):t.toast.error("This email is not valid")},verify(){let t=this,a=this.inputE,e=this.code;""===this.inputE&&this.toast.error("The email can't be blank");/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(this.inputEmail1)||this.toast.error("This email is not valid"),this.axios.post("/user/forget_form_email",{email:a,verifyCode:e}).then((function(a){let e=a.data.code,s=a.data.message;200===e?t.$router.push("/reset"):400===e&&("captcha"===s&&t.toast.error("The verification code is not correctly"),"email"===s&&t.toast.error("This email is not valid"))})).catch((function(t){}))}}},$={class:"bg"},z={class:"container"},A={class:"border"},Z={class:"font_login"},y={class:"font_acc"},x={autocomplete:"off"},C={class:"input_border"},T={class:"input_form"},E={class:"input_label"},k={class:"input_border"},I={class:"input_form"},D={class:"half_1"},V={class:"input_label"},j={class:"half_2"},F={key:0,class:"add_step_btn verify"},q={class:"input_border"},B={class:"input_border"},P={class:"text_center"},U={class:"other_login_btn"},G=(t=>(_("data-v-3a6cbf99"),t=t(),b(),t))((()=>c("i",{class:"google_icon"},null,-1))),N={class:"input_border"},H={class:"text_note"};const J=e(w,[["render",function(t,a,e,s,i,_){const b=o("navigation-bar"),w=o("router-link"),J=o("n-card"),K=o("footer-view");return n(),r(v,null,[l(b),c("div",$,[c("div",z,[l(J,{class:"card"},{default:d((()=>[c("div",A,[c("h1",Z,u(t.$t("forget.res")),1),c("p",y,[f(u(t.$t("forget.rem"))+" ",1),l(w,{to:"/login",class:"font_blue"},{default:d((()=>[f(u(t.$t("forget.log")),1)])),_:1})]),c("form",x,[c("div",C,[c("div",T,[p(c("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>i.inputE=t),required:""},null,512),[[m,i.inputE]]),c("label",E,u(t.$t("forget.email")),1)])]),c("div",k,[c("div",I,[c("div",D,[p(c("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>i.code=t),required:""},null,512),[[m,i.code]]),c("label",V,u(t.$t("forget.veri")),1)]),c("div",j,[p(c("a",{class:"add_step_btn verify",onClick:a[2]||(a[2]=(...t)=>_.startCountdown&&_.startCountdown(...t))},u(t.$t("forget.get")),513),[[g,!i.countingDown]]),i.countingDown?(n(),r("a",F,u(i.remainingTime)+" s ",1)):h("",!0)])])]),c("div",q,[c("button",{type:"submit",class:"add_step_btn c",onClick:a[3]||(a[3]=(...t)=>_.verify&&_.verify(...t))},u(t.$t("forget.conti")),1)])]),c("div",B,[c("div",P,u(t.$t("forget.or")),1),c("button",U,[G,f(" "+u(t.$t("forget.Google")),1)])]),c("div",N,[c("div",H,u(t.$t("forget.reset")),1)])])])),_:1})])]),l(K)],64)}],["__scopeId","data-v-3a6cbf99"]]);export{J as default};
